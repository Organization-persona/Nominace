<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="icon" href="{{url_for('static', filename='images/favicon.ico')}}" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', filename='css/styly1.css')}}" >
    <script type="text/javascript">
        let elems = document.getElementsByClassName('confirmation');
        let confirmIt = function (e) {
            if (!confirm('Are you sure?')) e.preventDefault();
        };
        for (let i = 0, l = elems.length; i < l; i++) {
            elems[i].addEventListener('click', confirmIt, false);
        }
    </script>
    <style>
        body
        {
            background: {{palette.body}};
        }
        ul li a:hover
        {
            background: {{palette.hover}};
        }
        ul li ul.h a
        {
            color: {{palette.text}};
            background: {{palette.selected}};
        }
        ul li ul.h a:hover
        {
            background: {{palette.hover}};
        }
        ul li ul.h 
        {
            background-color: {{palette.base}};
            color: {{palette.text}};
        }
        ul li a
        {
            color: {{palette.text}};
            background: {{palette.base}};
        }
        ul
        {
            display: flex;
            list-style: none;
            background-color: {{palette.base}};
            color: {{palette.text}};
        }
        div 
        {
            background-color: {{palette.divone}};
            color: {{palette.text}};
        }
        div div
        {
            background-color: {{palette.divtwo}};
        }
        div div div
        {
            background-color: {{palette.divthree}};
        }
        h1, h2, h3
        {
            color: {{palette.header}};
        }

    </style>
    {% block head %} 

    {% endblock %}
</head>
<body>
    <header>
        <ul>

            <li>
                <a href="/"><img src="{{url_for('static', filename='images/logo.png')}}" alt="logo" height="58px"
                        style="float: right; margin-top: 5px"></a>
            </li>
            <li><a href="/" {% if active == 'home' %} style="background-color: {{palette.selected}};" {% endif %} >Domů</a></li>

            <li><a href="#" {% if active == 'cat' or active == 'records' or active == 'user' or active == 'language' %} style="background-color: {{palette.selected}};" {% endif %}>Přehled</a>
                <ul class="h">
                    <li><a href="/zaznamy/1/" {% if active == 'records' %} style="background-color: {{palette.base}};" {% endif %}>Záznamy</a></li>
                    <li><a href="/cat/" {% if active == 'cat' %} style="background-color: {{palette.base}};" {% endif %}>Štítky</a></li>
                    {% if user.name %}
                        {% if user.auth <= 1 %}
                            <li><a href="/user/" {% if active == 'user' %} style="background-color: {{palette.base}};" {% endif %}>Programátoři</a></li>
                        {% endif %}
                    {% endif %}
                    <li><a href="/language/" {% if active == 'language' %} style="background-color: {{palette.base}};" {% endif %}>Programovací jazyky</a></li>
                </ul>
            </li>

            <li><a href="#" {% if active == 'addCat' or active == 'addRecord' or active == 'signup' or active == 'addLanguage' %} style="background-color: {{palette.selected}};" {% endif %}>Přidat</a>
              <ul class="h">
                <li><a href="/form/" {% if active == 'addRecord' %} style="background-color: {{palette.base}};" {% endif %}><b>Záznam</b></a></li>
                <li><a href="/cat/form/" {% if active == 'addCat' %} style="background-color: {{palette.base}};" {% endif %}><b>Štítek</b></a></li>
                {% if user.name %}
                    {% if user.auth <= 1 %}
                        <li><a href="/language/form" {% if active == 'addLanguage' %} style="background-color: {{palette.base}};" {% endif %}><b>Programovací jazyk</b></a></li>
                        <li><a href="/signup/" {% if active == 'signup' %} style="background-color: {{palette.base}};" {% endif %}><b>Účet</b></a></li>
                    {% endif %}
                {% endif %}

              </ul>
            </li>

            {% if user.name %}
                <li><a href="#" {% if active == 'profile' %} style="background-color: {{palette.selected}};" {% endif %}>{{user.name}}</a>
                    <ul class="h">
                        <li><a href="/profile" {% if active == 'profile' %} style="background-color: {{palette.base}};" {% endif %} > profil </a></li>
                        <li><a href="/logout"> odhlásit se </a></li>
                    </ul>
                </li>
                {% if user.auth == 1 %}
                    <li><a href="/backup/" {% if active == 'backup' %} style="background-color: {{palette.selected}};" {% endif %}> zálohy </a></li>
                {% endif %}
            {% else %}
                <li><a class="login" href="/login/" {% if active == 'login' %} {% endif %} > přihlášení </a></li>
            {% endif %}
            <li> <a href="/settings/" class="set" {% if active == 'settings' %} style="background-color: {{palette.selected}};" {% endif %}><img src="{{url_for('static', filename='images/settings.png')}}" alt="logo" height="27px" style="margin-top: 5px"></a></li>

        </ul>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <p class="{{ category }}">{{ message }}</p>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </header>
    {% block body %} 

    {% endblock %}
</body>
</html>
